{% extends "base.html" %}
{% load static %}
{% block head_title %}
  Hunt Completed
{% endblock head_title %}
{% block head %}
  <style>
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
  100% { transform: translateY(0px); }
}

@keyframes glow {
  0%, 100% { filter: drop-shadow(0 0 15px rgba(8, 183, 79, 0.6)); }
  50% { filter: drop-shadow(0 0 30px rgba(8, 183, 79, 0.8)); }
}

.celebration-video {
  animation: float 6s ease-in-out infinite;
}

.text-gradient {
  background: linear-gradient(to right, #08B74F, #00D2D2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: glow 2s ease-in-out infinite;
}
  </style>
{% endblock head %}
{% block content %}
  <div class="min-h-[80vh] flex items-center justify-center">
    <div class="max-w-4xl mx-auto py-10 px-6"
         data-aos="fade-up"
         data-aos-duration="800">
      <div class="text-center mb-12">
        <h1 class="text-5xl md:text-8xl font-black text-gradient mb-4"
            data-aos="fade-up"
            data-aos-delay="200">Completed!</h1>
        <p class="text-xl text-neutral-200 font-bold max-w-2xl mx-auto"
           data-aos="fade-up"
           data-aos-delay="400">
          Congratulations! You've successfully completed the
          <br>
          <span class="font-black text-green-500">Re-Dcrypt Cryptic Hunt.</span>
        </p>
      </div>
      <div class="flex justify-center mb-12"
           data-aos="fade-up"
           data-aos-delay="600">
        <video class="celebration-video w-64 h-64 md:w-96 md:h-96"
               autoplay
               loop
               muted
               playsinline>
          <source src="{% static 'videos/star.webm' %}" type="video/webm">
        </video>
      </div>
      <div class="flex justify-center gap-4 mb-12"
           data-aos="fade-up"
           data-aos-delay="800">
        <div class="bg-neutral-900/70 backdrop-blur-md shadow-inset-white rounded-xl p-6 hover:bg-neutral-800/80 transition-all duration-500 border border-transparent hover:border-green-600/50 hover:-translate-y-1">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-green-600/20 text-green-500 mb-4">
            <i class="ph-fill ph-trophy text-2xl"></i>
          </div>
          <h3 class="text-neutral-400 text-sm">Final Score</h3>
          <p class="text-2xl font-bold text-neutral-100">{{ user.profile.score }}</p>
        </div>
        <div class="bg-neutral-900/70 backdrop-blur-md shadow-inset-white rounded-xl p-6 hover:bg-neutral-800/80 transition-all duration-500 border border-transparent hover:border-purple-600/50 hover:-translate-y-1">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-purple-600/20 text-purple-500 mb-4">
            <i class="ph-fill ph-crown text-2xl"></i>
          </div>
          <h3 class="text-neutral-400 text-sm">Final Level</h3>
          <p class="text-2xl font-bold text-neutral-100">{{ user.profile.current_level }}</p>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/party-js@latest/bundle/party.min.js"></script>
  <script src="https://unpkg.com/tsparticles-engine/"></script>
  <script src="https://unpkg.com/tsparticles-slim/"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles-preset-fireworks@2/tsparticles.preset.fireworks.bundle.min.js"></script>
  <script>
party.confetti(party.Rect.fromScreen());
tsParticles.load("tsparticles", {
    "fullScreen": {
      "zIndex": 1
    },
    "particles": {
      "number": {
        "value": 0
      },
      "color": {
        "value": [
          "#00FFFC",
          "#FC00FF",
          "#fffc00"
        ]
      },
      "shape": {
        "type": [
          "circle",
          "square",
          "triangle",
          "polygon"
        ],
        "options": {
          "polygon": [
            {
              "sides": 5
            },
            {
              "sides": 6
            }
          ]
        }
      },
      "opacity": {
        "value": 1,
        "animation": {
          "enable": true,
          "minimumValue": 0,
          "speed": 2,
          "startValue": "max",
          "destroy": "min"
        }
      },
      "size": {
        "value": 4,
        "random": {
          "enable": true,
          "minimumValue": 2
        }
      },
      "links": {
        "enable": false
      },
      "life": {
        "duration": {
          "sync": true,
          "value": 5
        },
        "count": 1
      },
      "move": {
        "enable": true,
        "gravity": {
          "enable": true,
          "acceleration": 10
        },
        "speed": {
          "min": 10,
          "max": 20
        },
        "decay": 0.1,
        "direction": "none",
        "straight": false,
        "outModes": {
          "default": "destroy",
          "top": "none"
        }
      },
      "rotate": {
        "value": {
          "min": 0,
          "max": 360
        },
        "direction": "random",
        "move": true,
        "animation": {
          "enable": true,
          "speed": 60
        }
      },
      "tilt": {
        "direction": "random",
        "enable": true,
        "move": true,
        "value": {
          "min": 0,
          "max": 360
        },
        "animation": {
          "enable": true,
          "speed": 60
        }
      },
      "roll": {
        "darken": {
          "enable": true,
          "value": 25
        },
        "enable": true,
        "speed": {
          "min": 15,
          "max": 25
        }
      },
      "wobble": {
        "distance": 30,
        "enable": true,
        "move": true,
        "speed": {
          "min": -15,
          "max": 15
        }
      }
    },
    "emitters": {
      "life": {
        "count": 0,
        "duration": 0.1,
        "delay": 0.4
      },
      "rate": {
        "delay": 0.1,
        "quantity": 150
      },
      "size": {
        "width": 0,
        "height": 0
      }
    }
}); 

document.addEventListener('DOMContentLoaded', () => {
    celebrateCompletion();
    setInterval(celebrateCompletion, 3000); 
});
  </script>
{% endblock content %}
